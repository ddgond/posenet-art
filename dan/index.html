<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Posenet</title>
    <LINK rel="stylesheet" type="text/css"
     href="style.css" title="Default Styles" media="screen">

  </head>
  <body>
    <script src="ml5.min.js"></script>
    <script src="p5.min.js"></script>
    <script src="https://code.createjs.com/1.0.0/soundjs.min.js"></script>
    <script src="sounds.js"></script>
    <script>
    startedBackSound = false;
    allSoundOn = true;
    backSoundInstance = null;
    function startSound() {
      if (!startedBackSound){
        backSoundInstance = createjs.Sound.play(nameSoundMap.backSound, {loop:-1, volume:1});
        startedBackSound = true;
      }
    }

    function toggleBackgroundSound() {
      if (backSoundInstance){
        if (backSoundInstance.paused){
          backSoundInstance.paused = false;
        } else {
          backSoundInstance.paused = true;
        }
      }
    }

    function toggleAllSound() {
      if (allSoundOn){
        allSoundOn = false;
        if (backSoundInstance){
          //backSoundInstance.paused = true;
          var link = document.getElementById('backSounds');
          if (link.checked){
            link.click();
          }

        }
      } else {
        allSoundOn = true;
        if (backSoundInstance){
          var link = document.getElementById('backSounds');
          if (!link.checked){
            link.click();
          }
          //backSoundInstance.paused = false;
      }
      }
    }
    </script>
    <script src="drawingEngine.js"></script>
    <script src="posenetEngine.js"></script>
    <script src="effects.js"></script>
    <script src="main.js"></script>

  <input class="toggle" type="checkbox" onclick='toggleBackgroundSound()' id="backSounds" checked />
  <label for="backSounds" style="text-align:center;">Background sound</label>

  <input class="toggle" type="checkbox" onclick='toggleAllSound()' id="allSounds" checked />
  <label for="allSounds" style="text-align:center;">All sounds</label>

  </body>
</html>
